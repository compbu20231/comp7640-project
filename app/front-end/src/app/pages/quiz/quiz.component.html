<form #heroForm="ngForm">

  <div class="mb-3 content">

    <!-- <img src="./assets/images/banner_cover.png" class="img-fluid mb-2 img-banner" alt=""> -->
    <!-- <img src="./assets/images/banner.png" class="img-fluid mb-5" alt=""> -->

    <div class="card mt-2 card-h">
      <div class="card-body p-3">


      
        <div *ngFor="let q of quiz; let i = index;" class="mb-2">
          <div *ngIf="currentIndex == i && !isSubmit">
            <div id="question{{i}}" class="mb-4">
              {{i+1}} ) {{q.question}}
            </div>

            <div *ngFor="let c of q.choices; let j = index;" class="mt-1">
              <div class="form-check">
                <input class="form-check-input" type="checkbox" id="flexCheckDefault{{i}}_{{j}}" [(ngModel)]="userChoices[i][j]" name="flexCheckDefault{{i}}" (change)="checkAnserAll();"
                 [ngModelOptions]="{standalone: true}"/>
                <label class="form-check-label" for="flexCheckDefault{{i}}_{{j}}">
                  {{c.text}}
                </label>
              </div>
            </div>
    

            <div *ngFor="let c of q.choices; let j = index;" class="d-none">

              <!-- Default radio -->
              <!-- <div class="form-check">
                <input class="form-check-input" type="radio" name="flexRadioDefault{{i}}"
                  (change)="checkAnserAll(userChoices[i], j)" id="flexRadioDefault{{i}}_{{j}}"
                  [(ngModel)]="userChoices[i]" [value]="c" />
                <label class="form-check-label" for="flexRadioDefault{{i}}_{{j}}"> {{c.text}} </label>
              </div> -->




              <!-- Default checked radio -->
              <!-- <div class="form-check d-none">
                <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault2" checked />
                <label class="form-check-label" for="flexRadioDefault2"> Default checked radio </label>
              </div> -->

            </div>

            <div class="row mt-3">
              <div class="col-md-3 px-2 col-6">
                <button class="btn btn-primary btn-rounded" *ngIf="i!=0" (click)="moveQuestion(false)">
                  {{btnTexts[2]}}
                </button>
              </div>
              <div class="col-md-3 text-right px-2 col-6">
                <button class="btn btn-primary btn-rounded" (click)="moveQuestion(true)"
                  [disabled]="(i == quiz.length - 1) && !answerAll">
                  {{i == quiz.length - 1 ? btnTexts[1] : btnTexts[0]}}
                </button>
              </div>

            </div>
          </div>

        </div>

        <div class="mt-3" *ngIf="isSubmit">
          <div>
            你的答案:
          </div>

          <div *ngFor="let q of quiz; let i = index;">
            <div class="d-flex answer-div my-2">
              <div>
                {{i+1}} ) {{q.question}} :
              </div>
              <div *ngIf="userChoices[i]">
                {{userChoices[i].text}}
              </div>
              <div>
                <i class="far fa-times-circle text-danger" *ngIf="!q.userCorrect"></i>
                <i class="far fa-check-circle text-success" *ngIf="q.userCorrect"></i>
              </div>
            </div>
          </div>
          <div class="mt-3">
            <div *ngIf="isPass">
              恭喜, 你已經完成本課程, 請關閉瀏覽器離開
            </div>

            <div *ngIf="!isPass">
              對不起, 你未能通過本課程測試, 請按重做課程測試
              <button class="btn btn-primary btn-rounded" (click)="resetQuestion();">
                <i class="fas fa-undo"></i>
                重做課程測試
              </button>

            </div>
          </div>


        </div>



        

        <div class="text-right d-flex justify-content-end mt-3 align-items-center">
          <div class="mr-2 my-2">
            <img src="./assets/images/cs/c2.png" class="img-fluid img-logo" alt="">
          </div>
          <div>
            <img src="./assets/images/cs/c1.png" class="img-fluid img-logo" alt="">
          </div>
        </div>
      </div>
    </div>
  </div>


</form>